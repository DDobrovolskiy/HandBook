Запускаем тестовый контейнер
```
docker run hello-world
```
Перейдем в терминал в виртуальной машине Ubuntu и наберем команду:
```
docker run -i -t openjdk bash
```
и увидим, что мы подключились к контейнеру
Т.к. образы строятся на основе других образов, то нам доступен минимальный функционал Linux на основе которого построен образ OpenJDK. Данную команду строит трактовать так: "запусти контейнер образа OpenJDK, а именно команду bash". Если мы не напишем bash, то запуститься jshell. Ключ -i означает что мы хотим подключиться к контейнеру в интерактивном режиме (interactivily), -t значит, что нам нужен псевдотерминал(терминал, который создается поверх обычного и стримит потоки ввода/вывода в него, -t от TTY).
Наберем команду
```
cat /etc/os-release
```
и увидим версию ОС
Далее мы можем узнать версию Java
```
java --version
```
Напишем простую программу на Java с использованием jshell
Набираем
```
jshell
```
и вводим
```
System.out.println("Hello from job4j to Docker!");
```
Для выхода из контейнера набираем ниже. Первая позволяет выйти из jshell, вторая из самого контейнера
```
/exit
exit
docker container ls
```
Данная команда позволяет узнать какие контейнеры сейчас активны. Наберите

```
docker container ls
```
и вы увидите, что список пуст. Это потому что мы вышли из контейнера
Но если вы введете с флагом -a, то можете увидеть контейнеры, которые когда-либо запускали
docker container start
Ранее когда мы вводили команду

```
docker container ls -a
```
Мы видели что у нас есть контейнеры, просто они находятся в статусе "Exit"
Это значит что контейнер еще существует, но он завершил свою работу.
Мы можем заново его запустить. Наберите
```
docker container start f259c4884963
```
Важно! После start может идти id контейнера или его name. Можно ввести либо одно либо другое. В примере введен id. У вас будет свой id или name!
Теперь наберите
```
docker container ls
```
и увидите, что контейнер активен

####docker container attach

Теперь нужно как-то подключиться к контейнеру. Для этого служит команда attach. Наберите

```
docker container attach id
```
где id нужно ввести id контейнера

Вы увидите, что мы опять подключились к контейнеру

Введите команду чтобы выйти

```
exit
docker container rm, --rm
```

Как вы видите каждый новый запуск образа порождает новые контейнеры, но бывают ситуации когда контейнеры должны отслужить один раз, т.е. после выхода удалиться.

Давайте сначала разберемся как удалять контейнеры в принципе. Для этого служит команда rm

Наберите

```
docker container rm id
docker container ls -a
```
вы увидите, что теперь нет контейнера с указанным id

Но запускать, а потом отдельно удалять неудобно. Поэтому мы можем указать команде run флаг --rm. Это указание Docker, что по завершению работы контейнера его нужно удалить
Наберите
```
docker run --rm -i -t openjdk bash
```
затем выйдите из контейнера
```
exit
```
и наберите
```
docker container ls -a
```
В списке вы не увидите контейнер который только что запустили



Иногда бывает полезным иметь возможность удалить все неактивные контейнеры. Для этого можно набрать команду

```
docker container rm $(docker container ls –aq)
```
теперь наберите

```
docker container ls -a
```
Вы увидите, что все контейнеры удалены

docker create, start, attach, stop

Ранее контейнер мы создавали контейнер и подключались к нему с помощью команды run, а выходили с помощью exit.

Давайте сделаем тоже самое, но через отдельно взятые команды, чтобы понять лучше жизненный цикл контейнера

1. Создадим контейнер и назовем его job4j_docker

```
docker container create --name job4j_docker -it openjdk bash
```
Флаг --name нам позволяем создать. -it это сокращение для -i и -t



2. Запустим контейнер

```
docker container start job4j_docker
```

3. Подключимся к нему и выполнил команду

```
docker container attach jobj4_docker
```
в bash

```
java --version
```
теперь выйдем, но так чтобы контейнер не выключался.

Нужно ввести Ctrl + P + Q. Удерживая Ctrl нажимаем P и следом Q



Увидим, что контейнер активен



4. Остановим контейнер

```
docker container stop job4j_docker
```
5. Удалим контейнер из списка

```
docker container rm job4j_docker
```


Теги

Последний момент, про который хотелось бы упомянуть это Docker tag - тег. Про теги мы еще поговорим. Нужно просто знать что это версия образа. Один образ может иметь несколько версий. Например перейдем на страницу образа.

В разделе Tags вы можете увидеть много тегов.



Например команда ниже запустит образ openjdk версии oraclelinux8. Этот тег отвечает уже за другую версию Java
```
docker run -it openjdk:oraclelinux8 bash
```
Важно! По умолчанию, когда вы не указываете тег, стоит тег latest и загружает образ под этим тегом.