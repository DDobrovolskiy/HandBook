Жизненный цикл

Прежде чем мы пойдем дальше, нужно разобраться какие стадии проходит контейнер перед запуском.

1. pull. Мы уже знаем, что контейнер создается на основе образа. Поэтому, в первую очередь, нужно получить этот образ. Также мы знаем, что Docker берет их из registry. В первую очередь, он проверяет есть ли образ локально. Если его нет, то он его скачивает с Docker Hub (по умолчанию) или другого указанного источника

2. create. Далее происходит создание контейнера на основе образа

3. start. Наконец, происходит запуск контейнера

4. attach. После запуска контейнер может работать либо в фононом режиме (detach), либо взаимодействовать с клиентом. Второе происходило когда мы запускали контейнер через команду run

5. stop/start, pause/unpause. В какой-то момент контейнер можно остановить и потом заново запустить. Либо приостановить и снова запустить. Отличие в том, что stop убивает активный процесс, а pause пытается просто приостановить.

6. kill. Наконец, когда контейнер уже выполнил предписанные ему команды он уничтожается